<div class="flex justify-content-center mt-5">
    <div class="flex flex-column justify-content-center surface-card p-5 w-9">
        <div class="text-3xl font-medium mb-3">{{'crear_equipo_trabajo' | translate}}</div>
        <form [formGroup]="team" (ngSubmit)="onSubmit()">

            <div class="mb-6">
                <label 
                    class="w-full block text-xl font-medium mb-2"
                    for="name">{{'nombre_equipo'|translate}}</label>

                <div class="w-full">
                    <input id="name" type="text" [placeholder]="'nombre_equipo' | translate " pInputText
                        [class]="'w-full ' + 
                        (name!.invalid && (name!.dirty || name!.touched) ? 'ng-dirty' : '')"
                        style="padding:1rem" formControlName="name">
                </div>

                <div class="error-form"
                    *ngIf="name!.invalid && (name!.dirty || name!.touched)">
                    <span *ngIf="name!.errors!.required">
                        {{ 'campo_obligatorio' | translate }}
                    </span>
                </div>
            </div>

            <div class="mb-6">
                <label 
                    class="w-full block text-xl font-medium mb-2"
                    for="project">{{'proyecto'|translate}}</label>

                <div class="w-full">
                    <p-dropdown 
                        [placeholder]="('seleccionar_opcion' | translate)"
                        [options]="projectOptions"
                        id="project"
                        optionValue="id"
                        optionLabel="name"
                        formControlName="projectId"
                        [class]="(projectId.invalid && (projectId.dirty || projectId.touched) ? 'ng-dirty' : '')">
                    </p-dropdown>
                </div>

                <div
                    class="error-form"
                    *ngIf="projectId.invalid && (projectId.dirty || projectId.touched)">
                    <span *ngIf="projectId.errors.required">
                        {{'campo_obligatorio' | translate}}
                    </span>
                </div>
            </div>

            <div class="mb-6">
                <label 
                    class="w-full block text-xl font-medium mb-2"
                    for="status">{{'estado'|translate}}</label>

                <div class="w-full">
                    <p-dropdown 
                        [placeholder]="('seleccionar_opcion' | translate)"
                        [options]="statusOptions"
                        id="status"
                        optionValue="name"
                        optionLabel="name"
                        formControlName="status"
                        [class]="(status.invalid && (status.dirty || status.touched) ? 'ng-dirty' : '')" >
                    </p-dropdown>
                </div>

                <div
                    class="error-form"
                    *ngIf="status.invalid && (status.dirty || status.touched)">
                    <span *ngIf="status.errors.required">
                        {{'campo_obligatorio' | translate}}
                    </span>
                </div>
            </div>

            <div class="flex justify-content-end">
                <button
                        pButton
                        pRipple
                        type="button"
                        [label]="'cancelar'|translate"
                        class="p-button-outlined mr-5"
                        [routerLink]="['/']">
                </button>
                <button
                        pButton
                        pRipple
                        type="button"
                        [label]="'guardar'|translate"
                        (click)="onSubmit()">
                </button>
            </div>

            <div 
                class="mx-auto mt-3 w-6"
                *ngIf="loading">
                <p-progressBar mode="indeterminate"></p-progressBar>
            </div>
        </form>
    </div>
</div>

<app-custom-dialog
        [dataModal]="dataModal"
        (closeModal)="closeModal($event)"
        (confirmModal)="confirmDialog($event)">
</app-custom-dialog>